# 2장. 아키텍처 개요

### 아키텍처

---

![도메인 주도 개발 시작하기-2장](https://user-images.githubusercontent.com/80109963/224882393-dfd795e1-4699-4c99-b2a5-57b2df53c2be.png)


- 컨트롤러
    - HTTP 요청을 서비스에서 필요로 하는 형식으로 변환하여 응용 영역에 전달
    - 응용 영역의 응답을 HTTP 응답으로 변환하여 전송
- 서비스
    - 시스템이 사용자에게 제공해야 할 기능을 구현
    - 실질적인 로직을 담당함
    - 기능을 구현하기 위해 도메인 영역의 도메인 모델(엔티티)을 사용
- 도메인
    - 도메인 모델(엔티티)를 구현
    - 도메인의 핵심 로직을 구현
- 인프라
    - 구현 기술에 대한 것
    - RDBMS 연동 처리
    - 메시징 큐에 메시지를 전송/수신
    - NoSql의 데이터 연동 역시 처리
    - SMTP
    - 실제 구현을 다룸

### DIP(DI)

---

- Dependency Injection Principle - 의존 역전 원칙
- 저수준 모듈이 고수준 모듈에 의존하는 것
- SOLID 원칙의 ‘D’에 해당
- 저수준 모듈일수록 자주 변경되지 않고, 추상화되어있음
- 응용 영역과 도메인 영역의 변경을 최소화하며 구현체를 변경하거나 추가 가능
- 도메인 설계 시 → class가 아닌 인터페이스를 설계하고, 인터페이스에 의존시킴으로서 DIP를 지킴

### 도메인 영역 주요 구성요소

---

- 엔티티
    - 고유의 식별자(`@Id`)를 갖는 객체
    - 도메인 모델의 데이터를 포함 + 데이터와 관련된 기능 제공
- 밸류
    - 고유의 식별자를 갖지 않는 객체
    - 주로 개념적으로 하나인 값을 표현할 때 사용
- 애그리거트
    - 연관된 엔티티와 밸류 객체를 개념적으로 하나로 묶은 것
- 리포지토리
    - 도메인 모델의 영속성을 처리
    - 엔티티 객체를 로딩 & 저장하는 기능
- 도메인 서비스
    - 특정 엔티티에 속하지 않은 도메인 로직 제공

### 모듈 구조 == 디렉터리 구조

---

![image](https://user-images.githubusercontent.com/80109963/224882450-c5dbc01c-03e2-4dfd-ba2f-4e4c34f71b66.png)

- 계층별로 나눔

![image](https://user-images.githubusercontent.com/80109963/224882471-3b5df12f-7f24-4195-8fa7-de6d498ea3f9.png)

- 도메인이 속한 애그리거트 기준
